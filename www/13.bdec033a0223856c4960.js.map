{"version":3,"sources":["./src/app/services/common/offer/offer.service.ts","./src/app/pages/offer/components/filter-offer/filter-offer.component.ts","./src/app/pages/offer/components/filter-offer/filter-offer.component.html","./src/app/pages/offer/offers.page.html","./src/app/pages/offer/offers-routing.module.ts","./src/app/pages/offer/offers.page.ts","./src/app/pages/offer/offers.module.ts","./src/app/pages/offer/view-offer/view-offer-routing.keys.ts"],"names":["CommonOfferService","offerAPI","errorSrvc","oppId","filter","id","this","getOffers","e","presentServerErr","keyword","getOffersByKeyword","offerId","trim","getOfferById","FilterOfferComponent","modalCtrl","filterObj","reset","offerStatus","dismiss","type","cancel","updateOfferStatus","apply","routes","path","PARAM_ID","children","component","OffersPage","route","router","offerSrvc","translate","loadingCtrl","subs","Subscription","add","parseURL","paramMap","subscribe","params","get","pipe","mergeMap","lang","from","create","message","loading","present","tap","offers","err","item","navigate","BASE","Id","offer","Status","toLocaleLowerCase","state","Object","STATE_OPPID","backdropDismiss","animated","cssClass","componentProps","assign","modal","onDidDismiss","res","data","console","log","searchInput","showFilter","pathMatch","loadChildren","then","m","EditOfferPageModule","ViewOfferPageModule","OffersPageRoutingModule","forChild","OffersPageModule","ViewOfferPageRoutingKeys"],"mappings":"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","file":"13.bdec033a0223856c4960.js","sourcesContent":["import { Injectable, Inject } from '@angular/core';\nimport { IOfferApi } from 'src/app/interfaces/offer-api.interface';\nimport { OFFER_SERVICE_KEY } from 'src/app/service-providers/dynamic-key.provider';\nimport { ErrorService } from '../error/error.service';\nimport { Offer } from 'src/app/models/common/offer.model';\nimport { Observable } from 'rxjs';\nimport { OfferFilterModel } from 'src/app/models/common/filter.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CommonOfferService {\n  constructor(@Inject(OFFER_SERVICE_KEY) private offerAPI: IOfferApi, private errorSrvc: ErrorService) {}\n\n  getOffers(oppId?: string, filter?: OfferFilterModel): Observable<Offer[]> {\n    const id = oppId ? oppId : '';\n    try {\n      return this.offerAPI.getOffers(id, filter);\n    } catch (e) {\n      this.errorSrvc.presentServerErr(e);\n    }\n  }\n\n  getOffersByKeyword(oppId: string, keyword: string): Observable<Offer[]> {\n    try {\n      return this.offerAPI.getOffersByKeyword(oppId, keyword);\n    } catch (e) {\n      this.errorSrvc.presentServerErr(e);\n    }\n  }\n\n  getOfferById(offerId: string): Observable<Offer> {\n    try {\n      if (offerId && offerId.trim()) {\n        return this.offerAPI.getOfferById(offerId);\n      }\n    } catch (e) {\n      this.errorSrvc.presentServerErr(e);\n    }\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { OfferFilterModel } from 'src/app/models/common/filter.model';\nimport { ModalController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-filter-offer',\n  templateUrl: './filter-offer.component.html',\n  styleUrls: ['./filter-offer.component.scss'],\n})\nexport class FilterOfferComponent implements OnInit {\n  @Input() filterObj: OfferFilterModel;\n\n  constructor(private modalCtrl: ModalController) {}\n\n  ngOnInit() {\n    if (!this.filterObj) {\n      this.reset();\n    }\n  }\n\n  getData() {}\n\n  reset() {\n    this.filterObj = {\n      offerStatus: 'all',\n    };\n  }\n\n  apply() {\n    this.modalCtrl.dismiss(this.filterObj);\n  }\n\n  cancel() {\n    this.modalCtrl.dismiss();\n  }\n\n  getUpcomingIcon() {\n    if (this.filterObj.offerStatus === 'upcoming') {\n      return 'assets/icon/opportunity/upcoming.svg';\n    } else {\n      return 'assets/icon/opportunity/upcoming-disabled.svg';\n    }\n  }\n\n  updateOfferStatus(type: string) {\n    if (type === 'active') {\n      this.filterObj.offerStatus = 'active';\n    } else if (type === 'rejected') {\n      this.filterObj.offerStatus = 'rejected';\n    } else if (type === 'all') {\n      this.filterObj.offerStatus = 'all';\n    } else {\n      this.filterObj.offerStatus = 'accepted';\n    }\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar color=\"primary\" mode=\"ios\">\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"cancel()\">\n        <ion-icon slot=\"icon-only\" name=\"arrow-back\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"reset()\">\n        {{ 'OffersFilter_Reset' | translate }}\n      </ion-button>\n    </ion-buttons>\n    <ion-title>{{ 'OffersFilter_Filter' | translate }}</ion-title>\n  </ion-toolbar>\n</ion-header>\n<ion-content>\n  <div class=\"ion-padding\">\n    <ion-grid class=\"ion-no-margin ion-no-padding\">\n      <ion-row>\n        <ion-col size=\"12\">\n          <ion-label>\n            {{ 'OffersFilter_OfferStatus' | translate }}\n          </ion-label>\n        </ion-col>\n      </ion-row>\n      <ion-row class=\"ion-text-center ion-padding-top\">\n        <ion-col>\n          <div class=\"header-btn\" (click)=\"updateOfferStatus('all')\" [class.activated]=\"filterObj.offerStatus === 'all'\">\n            <span>\n              <ion-icon name=\"apps\" [color]=\"filterObj.offerStatus === 'all' ? 'primary' : 'medium'\"></ion-icon>\n            </span>\n            <div>\n              <ion-label class=\"mat-small\">\n                {{ 'OffersFilter_All' | translate }}\n              </ion-label>\n            </div>\n          </div>\n        </ion-col>\n        <ion-col>\n          <div class=\"header-btn\" (click)=\"updateOfferStatus('active')\" [class.activated]=\"filterObj.offerStatus === 'active'\">\n            <span>\n              <ion-icon name=\"play\" [color]=\"filterObj.offerStatus === 'active' ? 'primary' : 'medium'\"></ion-icon>\n            </span>\n            <div>\n              <ion-label class=\"mat-small\">\n                {{ 'OffersFilter_Active' | translate }}\n              </ion-label>\n            </div>\n          </div>\n        </ion-col>\n        <ion-col>\n          <div class=\"header-btn\" (click)=\"updateOfferStatus('accepted')\" [class.activated]=\"filterObj.offerStatus === 'accepted'\">\n            <span>\n              <ion-icon name=\"checkmark\" [color]=\"filterObj.offerStatus === 'accepted' ? 'primary' : 'medium'\"></ion-icon>\n            </span>\n            <div>\n              <ion-label class=\"mat-small\">\n                {{ 'OffersFilter_Accepted' | translate }}\n              </ion-label>\n            </div>\n          </div>\n        </ion-col>\n        <ion-col>\n          <div class=\"header-btn\" (click)=\"updateOfferStatus('rejected')\" [class.activated]=\"filterObj.offerStatus === 'rejected'\">\n            <span>\n              <ion-icon name=\"close\" [color]=\"filterObj.offerStatus === 'rejected' ? 'primary' : 'medium'\"></ion-icon>\n            </span>\n            <div>\n              <ion-label class=\"mat-small\">\n                {{ 'OffersFilter_Declined' | translate }}\n              </ion-label>\n            </div>\n          </div>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </div>\n</ion-content>\n<ion-footer class=\"ion-padding\">\n  <ion-button fill=\"solid\" expand=\"block\" color=\"primary\" (click)=\"apply()\">\n    {{ 'Common_Apply' | translate }}\n  </ion-button>\n</ion-footer>\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar color=\"primary\" mode=\"ios\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"\" text=\"{{'Common_Back'|translate}}\"></ion-back-button>\n    </ion-buttons>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"showFilter()\">\n        <ion-icon slot=\"icon-only\" name=\"funnel\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>\n      {{\"OffersPage_Offers\"|translate}} <br />\n      <ion-text *ngIf=\"oppId\" class=\"sub-header\"> {{\"TestdrivePage_OpportunityID\"|translate}}: {{oppId}} </ion-text>\n    </ion-title>\n  </ion-toolbar>\n  <ion-toolbar class=\"bg\" *ngIf=\"oppId\">\n    <ion-searchbar\n      class=\"ion-margin-top ion-no-padding ion-padding-start ion-padding-end\"\n      search-icon=\"\"\n      debounce=\"500\"\n      [(ngModel)]=\"searchInput\"\n      placeholder=\"{{'OffersPage_Search'|translate}}\"\n      (ionChange)=\"search()\"\n      (ionCancel)=\"getOffers()\"\n      (ionClear)=\"getOffers()\"\n    >\n    </ion-searchbar>\n  </ion-toolbar>\n  <ion-toolbar class=\"bg\" *ngIf=\"oppId\">\n    <div class=\"border ion-margin-start ion-margin-end ion-padding ion-text-center\" (click)=\"add()\">\n      <ion-icon name=\"add-circle\" color=\"primary\" class=\"add-icon\"></ion-icon>\n      <ion-label color=\"primary\"> {{ \"OffersPage_AddOffer\" | translate }} </ion-label>\n    </div>\n  </ion-toolbar>\n</ion-header>\n<ion-content class=\"ion-padding-start ion-padding-end ion-padding-bottom\">\n  <div class=\"ion-margin-top ion-margin-bottom border-radius\" *ngFor=\"let item of offers\">\n    <ion-grid class=\"ion-no-margin\">\n      <ion-row>\n        <ion-col>\n          <div class=\"ion-margin-bottom\">\n            <ion-label><b>{{item?.Status}}</b></ion-label\n            ><br />\n            <ion-label>\n              <b>{{item?.ContactName}}</b>\n            </ion-label>\n          </div>\n          <div class=\"bottom-icon\">\n            <ion-icon name=\"document\"></ion-icon>\n          </div>\n        </ion-col>\n        <ion-col class=\"ion-text-start\">\n          <ion-label>{{ item?.VariantName }}</ion-label><br />\n          <ion-label>{{ item?.CreatedDate | date: \"dd MMM y hh:mm a\" }}</ion-label><br />\n          <ion-label>\n            <a (click)=\"view(item)\"> {{\"OffersPage_ViewDetails\"|translate}} </a>\n          </ion-label>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </div>\n</ion-content>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OffersPage } from './offers.page';\nimport { OffersPageRoutingKeys } from './offers-routing.keys';\nimport { EditOfferPageRoutingKeys } from './edit-offer/edit-offer-routing.keys';\nimport { ViewOfferPageRoutingKeys } from './view-offer/view-offer-routing.keys';\n\nconst routes: Routes = [\n  {\n    path: `:${OffersPageRoutingKeys.PARAM_ID}`,\n    children: [\n      {\n        path: '',\n        component: OffersPage,\n        pathMatch: 'full',\n      },\n      {\n        path: `${EditOfferPageRoutingKeys.BASE}`,\n        loadChildren: () => import('./edit-offer/edit-offer.module').then((m) => m.EditOfferPageModule),\n      },\n      {\n        path: `${ViewOfferPageRoutingKeys.BASE}`,\n        loadChildren: () => import('./view-offer/view-offer.module').then((m) => m.ViewOfferPageModule),\n      },\n    ],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OffersPageRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Offer } from 'src/app/models/common/offer.model';\nimport { Subscription, from } from 'rxjs';\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\nimport { OffersPageRoutingKeys } from './offers-routing.keys';\nimport { CommonOfferService } from 'src/app/services/common/offer/offer.service';\nimport { EditOfferPageRoutingKeys } from './edit-offer/edit-offer-routing.keys';\nimport { ViewOfferPageRoutingKeys } from './view-offer/view-offer-routing.keys';\nimport { TranslateService } from '@ngx-translate/core';\nimport { LoadingController, ModalController } from '@ionic/angular';\nimport { mergeMap, tap } from 'rxjs/operators';\nimport { OfferFilterModel } from 'src/app/models/common/filter.model';\nimport { FilterOfferComponent } from './components/filter-offer/filter-offer.component';\n\n@Component({\n  selector: 'app-offers',\n  templateUrl: './offers.page.html',\n  styleUrls: ['./offers.page.scss'],\n})\nexport class OffersPage implements OnInit {\n  private subs = new Subscription();\n  offers: Offer[];\n  oppId: string;\n  filterObj: OfferFilterModel;\n  searchInput: string;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private offerSrvc: CommonOfferService,\n    private translate: TranslateService,\n    private loadingCtrl: LoadingController,\n    private modalCtrl: ModalController\n  ) {}\n\n  ngOnInit() {\n    this.subs.add(this.parseURL());\n  }\n\n  parseURL() {\n    return this.route.paramMap.subscribe((params) => {\n      this.oppId = params.get(OffersPageRoutingKeys.PARAM_ID);\n      if (this.oppId === OffersPageRoutingKeys.PARAM_ID) {\n        this.oppId = '';\n      }\n      this.getOffers(null);\n    });\n  }\n\n  getOffers(filter?: OfferFilterModel) {\n    this.translate\n      .get('Common_Loading')\n      .pipe(\n        mergeMap((lang) => {\n          return from(\n            this.loadingCtrl.create({\n              message: lang,\n            })\n          );\n        }),\n        mergeMap((loading) => {\n          loading.present();\n          return this.offerSrvc.getOffers(this.oppId, filter).pipe(\n            tap(\n              (e) => {\n                this.offers = e;\n                loading.dismiss();\n              },\n              (err) => {\n                loading.dismiss();\n              }\n            )\n          );\n        })\n      )\n      .subscribe();\n  }\n\n  goToOffer(item: Offer) {\n    this.router.navigate([`${OffersPageRoutingKeys.BASE}/${this.oppId}/${EditOfferPageRoutingKeys.BASE}/${item.Id}`]);\n  }\n\n  getColor(offer: Offer) {\n    if (offer.Status.toLocaleLowerCase() === 'accept') {\n      return 'accepted';\n    } else if (offer.Status.toLocaleLowerCase() === 'reject') {\n      return 'rejected';\n    } else {\n      return 'pending';\n    }\n  }\n\n  add() {\n    const state = new Object();\n    state[EditOfferPageRoutingKeys.STATE_OPPID] = this.oppId;\n    const navigationExtras: NavigationExtras = {\n      state,\n    };\n    this.router.navigate(\n      [`${OffersPageRoutingKeys.BASE}/${this.oppId}/${EditOfferPageRoutingKeys.BASE}/${EditOfferPageRoutingKeys.PARAM_ID}`],\n      navigationExtras\n    );\n  }\n\n  view(offer: Offer) {\n    this.router.navigate([`${OffersPageRoutingKeys.BASE}/${this.oppId}/${ViewOfferPageRoutingKeys.BASE}/${offer.Id}`]);\n  }\n\n  showFilter() {\n    from(\n      this.modalCtrl.create({\n        component: FilterOfferComponent,\n        backdropDismiss: false,\n        animated: true,\n        cssClass: 'full-screen',\n        componentProps: {\n          filterObj: this.filterObj ? Object.assign({}, this.filterObj) : null,\n        },\n      })\n    ).subscribe((modal) => {\n      from(modal.onDidDismiss()).subscribe((res: any) => {\n        if (res && res.data) {\n          this.filterObj = res.data;\n          console.log(this.filterObj);\n          this.getOffers(this.filterObj);\n        }\n      });\n      modal.present();\n    });\n  }\n\n  search() {\n    this.translate\n      .get('Common_Loading')\n      .pipe(\n        mergeMap((lang) => {\n          return from(\n            this.loadingCtrl.create({\n              message: lang,\n            })\n          );\n        }),\n        mergeMap((loading) => {\n          loading.present();\n          return this.offerSrvc.getOffersByKeyword(this.oppId, this.searchInput).pipe(\n            tap(\n              (e) => {\n                this.offers = e;\n                loading.dismiss();\n              },\n              (err) => {\n                loading.dismiss();\n              }\n            )\n          );\n        })\n      )\n      .subscribe();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OffersPageRoutingModule } from './offers-routing.module';\n\nimport { OffersPage } from './offers.page';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CustomCurrencyPipe } from 'src/app/pipes/custom-currency.pipe';\nimport { FilterOfferComponent } from './components/filter-offer/filter-offer.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, TranslateModule, IonicModule, OffersPageRoutingModule],\n  declarations: [OffersPage, FilterOfferComponent],\n})\nexport class OffersPageModule {}\n","export const ViewOfferPageRoutingKeys = {\n  BASE: 'view-offer',\n  PARAM_ID: 'new',\n};\n"],"sourceRoot":"webpack:///"}