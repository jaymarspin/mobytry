{"version":3,"sources":["./src/app/pages/tradein/edit-tradein/update-profile/update-profile.page.html","./src/app/pages/tradein/edit-tradein/update-profile/update-profile-routing.module.ts","./src/app/pages/tradein/edit-tradein/update-profile/update-profile.page.ts","./src/app/pages/tradein/edit-tradein/update-profile/update-profile.module.ts"],"names":["routes","path","PARAM_ID","OWNER","children","component","UpdateProfilePage","contactService","formBuilder","route","translate","router","loadingCtrl","navCtrl","oppSrvc","sysCountryCode","environment","countryCode","subs","Subscription","salutationList","this","getContactSalutation","getCountryCodeList","countryList","getCountryList","genderList","getGender","raceList","getRace","cityList","getCities","stateList","getStates","docList","getContactDocType","console","log","contactForm","initContactForm","add","parseURL","contact","paramMap","subscribe","params","oppId","get","owner","getData","id","pipe","mergeMap","lang","from","create","message","loading","present","getOpportunityById","opp","getContactById","ContactId","tap","e","dismiss","setValues","err","of","setValue","Title","Name","PrefName","CompanyName","DocType","DocNum","Race","Gender","MobileNo","CountryCode","Email","Birthday","Line1","Line2","Postcode","City","State","Country","Remarks","group","title","fullName","prefName","company","docType","docNum","race","gender","mobile","email","birthday","line1","line2","postcode","city","state","country","remarks","initErrorMessages","form","formErrorMessages","key","Object","keys","controls","value","upsertContact","back","setTimeout","_","navigateForward","BASE","Id","next","pathMatch","UpdateProfilePageRoutingModule","forChild","UpdateProfilePageModule"],"mappings":"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","file":"38.04737c1f5a215f354556.js","sourcesContent":["<ion-header>\n  <ion-toolbar color=\"primary\" mode=\"ios\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"\" text=\"{{'Common_Back'|translate}}\"></ion-back-button>\n    </ion-buttons>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"next()\">{{'Common_Next'|translate}}</ion-button>\n    </ion-buttons>\n    <ion-title>{{'UpdateOwnerTradeIn_OwnerDetails'|translate}}</ion-title>\n  </ion-toolbar>\n</ion-header>\n<ion-content>\n  <form [formGroup]=\"contactForm\">\n    <div>\n      <ion-item button>\n        <ion-select formControlName=\"title\" placeholder='{{\"UpdateOwnerTradeIn_Salutation\"|translate}}'>\n          <ion-select-option [value]=\"opt.value\" *ngFor=\"let opt of salutationList\">{{ opt.label }}</ion-select-option>\n        </ion-select>\n      </ion-item>\n      <app-item-err [control]=\"contactForm.controls?.title\" [messages]=\"formErrorMessages.title\"></app-item-err>\n      <ion-item>\n        <ion-input formControlName=\"fullName\" placeholder='{{\"UpdateOwnerTradeIn_FullName\"|translate}}'></ion-input>\n      </ion-item>\n      <app-item-err [control]=\"contactForm.controls?.fullName\" [messages]=\"formErrorMessages.fullName\"></app-item-err>\n      <ion-item>\n        <ion-input formControlName=\"prefName\" placeholder='{{\"UpdateOwnerTradeIn_PreferredName\"|translate}}'></ion-input>\n      </ion-item>\n      <app-item-err [control]=\"contactForm.controls?.prefName\" [messages]=\"formErrorMessages.prefName\"></app-item-err>\n      <ion-item>\n        <ion-input formControlName=\"company\" placeholder='{{\"UpdateOwnerTradeIn_Company\"|translate}}'></ion-input>\n      </ion-item>\n      <app-item-err [control]=\"contactForm.controls?.company\" [messages]=\"formErrorMessages.company\"></app-item-err>\n      <ion-grid class=\"ion-no-margin ion-no-padding\">\n        <ion-row>\n          <ion-col>\n            <ion-item button>\n              <ion-select formControlName=\"docType\" placeholder='{{\"UpdateOwnerTradeIn_ID\"|translate}}'>\n                <ion-select-option [value]=\"opt.value\" *ngFor=\"let opt of docList\">{{ opt.label }}</ion-select-option>\n              </ion-select>\n            </ion-item>\n            <app-item-err [control]=\"contactForm.controls?.docType\" [messages]=\"formErrorMessages.docType\"></app-item-err>\n          </ion-col>\n          <ion-col>\n            <ion-item>\n              <ion-input formControlName=\"docNum\" placeholder='{{\"UpdateOwnerTradeIn_IDNumber\"|translate}}'></ion-input>\n            </ion-item>\n            <app-item-err [control]=\"contactForm.controls?.docNum\" [messages]=\"formErrorMessages.docNum\"></app-item-err>\n          </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col>\n            <ion-item button>\n              <ion-select formControlName=\"race\" placeholder='{{\"UpdateOwnerTradeIn_Race\"|translate}}'>\n                <ion-select-option [value]=\"opt.value\" *ngFor=\"let opt of raceList\">{{ opt.label }}</ion-select-option>\n              </ion-select>\n            </ion-item>\n            <app-item-err [control]=\"contactForm.controls?.race\" [messages]=\"formErrorMessages.race\"></app-item-err>\n          </ion-col>\n          <ion-col>\n            <ion-item button>\n              <ion-select formControlName=\"gender\" placeholder='{{\"UpdateOwnerTradeIn_Gender\"|translate}}'>\n                <ion-select-option [value]=\"opt.value\" *ngFor=\"let opt of genderList\">{{ opt.label }}</ion-select-option>\n              </ion-select>\n            </ion-item>\n            <app-item-err [control]=\"contactForm.controls?.gender\" [messages]=\"formErrorMessages.gender\"></app-item-err>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n      <ion-item>\n        <ion-datetime displayFormat=\"MM/DD/YYYY\" formControlName=\"birthday\" placeholder='{{\"UpdateOwnerTradeIn_Birthday\"|translate}}'></ion-datetime>\n      </ion-item>\n      <app-item-err [control]=\"contactForm.controls?.birthday\" [messages]=\"formErrorMessages.birthday\"></app-item-err>\n    </div>\n    <div class=\"ion-margin-top\">\n      <ion-grid class=\"ion-no-margin ion-no-padding\">\n        <ion-row>\n          <ion-col size=\"4\">\n            <ion-item button>\n              <ion-select formControlName=\"countryCode\" placeholder='{{\"UpdateOwnerTradeIn_CountryCode\"|translate}}'>\n                <ion-select-option [value]=\"opt.value\" *ngFor=\"let opt of countryCode\">{{ opt.label }} </ion-select-option>\n              </ion-select>\n            </ion-item>\n            <app-item-err [control]=\"contactForm.controls?.countryCode\" [messages]=\"formErrorMessages.countryCode\"></app-item-err>\n          </ion-col>\n          <ion-col>\n            <ion-item>\n              <ion-input formControlName=\"mobile\" placeholder='{{\"UpdateOwnerTradeIn_MobileNumber\"|translate}}'></ion-input>\n            </ion-item>\n            <app-item-err [control]=\"contactForm.controls?.mobile\" [messages]=\"formErrorMessages.mobile\"></app-item-err>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n      <ion-item>\n        <ion-input formControlName=\"email\" placeholder='{{\"UpdateOwnerTradeIn_Email\"|translate}}'></ion-input>\n      </ion-item>\n      <app-item-err [control]=\"contactForm.controls?.email\" [messages]=\"formErrorMessages.email\"></app-item-err>\n      <ion-item>\n        <ion-input formControlName=\"line1\" placeholder='{{\"UpdateOwnerTradeIn_Line1\"|translate}}'></ion-input>\n      </ion-item>\n      <app-item-err [control]=\"contactForm.controls?.line1\" [messages]=\"formErrorMessages.line1\"></app-item-err>\n      <ion-item>\n        <ion-input formControlName=\"line2\" placeholder='{{\"UpdateOwnerTradeIn_Line2\"|translate}}'></ion-input>\n      </ion-item>\n      <app-item-err [control]=\"contactForm.controls?.line2\" [messages]=\"formErrorMessages.line2\"></app-item-err>\n      <ion-grid class=\"ion-no-margin ion-no-padding\">\n        <ion-row>\n          <ion-col>\n            <ion-item>\n              <ion-input formControlName=\"postcode\" placeholder='{{\"UpdateOwnerTradeIn_Postcode\"|translate}}'></ion-input>\n            </ion-item>\n            <app-item-err [control]=\"contactForm.controls?.postcode\" [messages]=\"formErrorMessages.postcode\"></app-item-err>\n          </ion-col>\n          <ion-col *ngIf=\"sysCountryCode == 'my'\">\n            <ion-item button>\n              <ion-select formControlName=\"city\" placeholder='{{\"UpdateOwnerTradeIn_City\"|translate}}'>\n                <ion-select-option [value]=\"opt.value\" *ngFor=\"let opt of cityList\"> {{ opt.label }} </ion-select-option>\n              </ion-select>\n            </ion-item>\n            <app-item-err [control]=\"contactForm.controls?.city\" [messages]=\"formErrorMessages.city\"></app-item-err>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n      <ion-item button *ngIf=\"sysCountryCode == 'my'\">\n        <ion-select formControlName=\"state\" placeholder='{{\"UpdateOwnerTradeIn_State\"|translate}}' readonly>\n          <ion-select-option [value]=\"opt.value\" *ngFor=\"let opt of stateList\"> {{ opt.label }} </ion-select-option>\n        </ion-select>\n      </ion-item>\n      <app-item-err [control]=\"contactForm.controls?.state\" [messages]=\"formErrorMessages.state\"></app-item-err>\n      <ion-item button>\n        <ion-select formControlName=\"country\" placeholder='{{\"UpdateOwnerTradeIn_Country\"|translate}}' readonly>\n          <ion-select-option [value]=\"opt.value\" *ngFor=\"let opt of countryList\"> {{ opt.label }} </ion-select-option>\n        </ion-select>\n      </ion-item>\n      <app-item-err [control]=\"contactForm.controls?.country\" [messages]=\"formErrorMessages.country\"></app-item-err>\n    </div>\n    <div class=\"ion-margin-top\">\n      <ion-item>\n        <ion-textarea rows=\"6\" formControlName=\"remarks\" placeholder='{{\"UpdateOwnerTradeIn_Notes\"|translate}}'></ion-textarea>\n      </ion-item>\n      <app-item-err [control]=\"contactForm.controls?.remarks\" [messages]=\"formErrorMessages.remarks\"></app-item-err>\n    </div>\n  </form>\n</ion-content>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UpdateProfilePage } from './update-profile.page';\nimport { TradeinUpdateProfilePageRoutingKeys } from './update-profile-routing.keys';\n\nconst routes: Routes = [\n  {\n    path: `:${TradeinUpdateProfilePageRoutingKeys.PARAM_ID}/:${TradeinUpdateProfilePageRoutingKeys.OWNER}`,\n    children: [\n      {\n        path: '',\n        component: UpdateProfilePage,\n        pathMatch: 'full',\n      },\n    ],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UpdateProfilePageRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { LoadingController, NavController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { from, of, Subscription } from 'rxjs';\nimport { mergeMap, tap } from 'rxjs/operators';\nimport { ContactModel } from 'src/app/models/common/contact.model';\nimport { FormErrorMessages } from 'src/app/models/common/form-error.model';\nimport { Opportunity } from 'src/app/models/common/opportunity.model';\nimport { CommonContactService } from 'src/app/services/common/contact/contact.service';\nimport { CommonOpportunityService } from 'src/app/services/common/opportunity/opportunity.service';\nimport { environment } from 'src/environments/environment';\nimport { TradeinProfilePageRoutingKeys } from '../tradein-profile/tradein-profile-routing.keys';\nimport { TradeinUpdateProfilePageRoutingKeys } from './update-profile-routing.keys';\n\n@Component({\n  selector: 'app-update-profile',\n  templateUrl: './update-profile.page.html',\n  styleUrls: ['./update-profile.page.scss'],\n})\nexport class UpdateProfilePage implements OnInit {\n  sysCountryCode = environment.countryCode;\n  private subs = new Subscription();\n  contactForm: FormGroup;\n  formErrorMessages: FormErrorMessages;\n  salutationList = this.contactService.getContactSalutation();\n  countryCode = this.contactService.getCountryCodeList();\n  countryList = this.contactService.getCountryList();\n  genderList = this.contactService.getGender();\n  raceList = this.contactService.getRace();\n  cityList = this.contactService.getCities();\n  stateList = this.contactService.getStates();\n  docList = this.contactService.getContactDocType();\n  contact: ContactModel;\n  opp: Opportunity;\n\n  constructor(\n    private contactService: CommonContactService,\n    private formBuilder: FormBuilder,\n    private route: ActivatedRoute,\n    private translate: TranslateService,\n    private router: Router,\n    private loadingCtrl: LoadingController,\n    private navCtrl: NavController,\n    private oppSrvc: CommonOpportunityService\n  ) {\n    console.log(this.docList);\n  }\n\n  ngOnInit() {\n    this.contactForm = this.initContactForm();\n    this.subs.add(this.parseURL());\n  }\n\n  parseURL() {\n    this.contact = new ContactModel();\n    return this.route.paramMap.subscribe((params) => {\n      console.log(params);\n      const oppId = params.get(TradeinUpdateProfilePageRoutingKeys.PARAM_ID);\n      const owner = params.get(TradeinUpdateProfilePageRoutingKeys.OWNER);\n      this.getData(oppId, owner);\n    });\n  }\n\n  getData(id: string, owner: string) {\n    this.translate\n      .get('Common_Loading')\n      .pipe(\n        mergeMap((lang) => {\n          return from(\n            this.loadingCtrl.create({\n              message: lang,\n            })\n          );\n        }),\n        mergeMap((loading) => {\n          loading.present();\n          return this.oppSrvc.getOpportunityById(id).pipe(\n            mergeMap((opp) => {\n              this.opp = opp;\n              if (owner === 'true') {\n                return this.contactService.getContactById(opp.ContactId).pipe(\n                  tap(\n                    (e) => {\n                      loading.dismiss();\n                      this.contact = e;\n                      this.setValues();\n                    },\n                    (err) => {\n                      loading.dismiss();\n                    }\n                  )\n                );\n              } else if (owner === 'false') {\n                loading.dismiss();\n                return of(ContactModel);\n              } else {\n                return this.contactService.getContactById(owner).pipe(\n                  tap(\n                    (e) => {\n                      loading.dismiss();\n                      this.contact = e;\n                      this.setValues();\n                    },\n                    (err) => {\n                      loading.dismiss();\n                    }\n                  )\n                );\n              }\n            })\n          );\n        })\n      )\n      .subscribe();\n  }\n\n  setValues() {\n    this.contactForm.get('title').setValue(this.contact.Title);\n    this.contactForm.get('fullName').setValue(this.contact.Name);\n    this.contactForm.get('prefName').setValue(this.contact.PrefName);\n    this.contactForm.get('company').setValue(this.contact.CompanyName);\n    this.contactForm.get('docType').setValue(this.contact.DocType);\n    this.contactForm.get('docNum').setValue(this.contact.DocNum);\n    this.contactForm.get('race').setValue(this.contact.Race);\n    this.contactForm.get('gender').setValue(this.contact.Gender);\n    this.contactForm.get('mobile').setValue(this.contact.MobileNo);\n    this.contactForm.get('countryCode').setValue(this.contact.CountryCode);\n    this.contactForm.get('email').setValue(this.contact.Email);\n    this.contactForm.get('birthday').setValue(this.contact.Birthday);\n    this.contactForm.get('line1').setValue(this.contact.Line1);\n    this.contactForm.get('line2').setValue(this.contact.Line2);\n    this.contactForm.get('postcode').setValue(this.contact.Postcode);\n    this.contactForm.get('city').setValue(this.contact.City);\n    this.contactForm.get('state').setValue(this.contact.State);\n    this.contactForm.get('country').setValue(this.contact.Country);\n    this.contactForm.get('remarks').setValue(this.contact.Remarks);\n  }\n\n  private initContactForm(): FormGroup {\n    const contactForm = this.formBuilder.group({\n      id: [''],\n      title: [''],\n      fullName: [''],\n      prefName: [''],\n      company: [''],\n      docType: [''],\n      docNum: [''],\n      race: [''],\n      gender: [''],\n      countryCode: [''],\n      mobile: [''],\n      email: ['', [Validators.email]],\n      birthday: [''],\n      line1: [''],\n      line2: [''],\n      postcode: [''],\n      city: [''],\n      state: [''],\n      country: [''],\n      remarks: [''],\n    });\n    this.initErrorMessages(contactForm);\n    return contactForm;\n  }\n\n  private initErrorMessages(form: FormGroup) {\n    this.formErrorMessages = {\n      group: {},\n    };\n    if (!form) {\n      return;\n    }\n    for (const key of Object.keys(form.controls)) {\n      switch (key) {\n        case 'email':\n          this.formErrorMessages[key] = {\n            email: 'Invalid email.',\n          };\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  next() {\n    this.contact.Title = this.contactForm.get('title').value;\n    this.contact.Name = this.contactForm.get('fullName').value;\n    this.contact.PrefName = this.contactForm.get('prefName').value;\n    this.contact.CompanyName = this.contactForm.get('company').value;\n    this.contact.DocType = this.contactForm.get('docType').value;\n    this.contact.DocNum = this.contactForm.get('docNum').value;\n    this.contact.Race = this.contactForm.get('race').value;\n    this.contact.Gender = this.contactForm.get('gender').value;\n    this.contact.MobileNo = this.contactForm.get('mobile').value;\n    this.contact.CountryCode = this.contactForm.get('countryCode').value;\n    this.contact.Email = this.contactForm.get('email').value;\n    this.contact.Birthday = this.contactForm.get('birthday').value;\n    this.contact.Line1 = this.contactForm.get('line1').value;\n    this.contact.Line2 = this.contactForm.get('line2').value;\n    this.contact.Postcode = this.contactForm.get('postcode').value;\n    this.contact.City = this.contactForm.get('city').value;\n    this.contact.State = this.contactForm.get('state').value;\n    this.contact.Country = this.contactForm.get('country').value;\n    this.contact.Remarks = this.contactForm.get('remarks').value;\n    this.translate\n      .get('Common_Saving')\n      .pipe(\n        mergeMap((lang) => {\n          return from(\n            this.loadingCtrl.create({\n              message: lang,\n            })\n          );\n        }),\n        mergeMap((loading) => {\n          loading.present();\n          return this.contactService.upsertContact(this.contact).pipe(\n            tap(\n              (e) => {\n                this.contact = e;\n                loading.dismiss();\n              },\n              (err) => {\n                loading.dismiss();\n              }\n            )\n          );\n        })\n      )\n      .subscribe((e) => {\n        this.navCtrl.back();\n        setTimeout((_) => {\n          this.navCtrl.navigateForward(TradeinProfilePageRoutingKeys.BASE + '/' + this.opp.Id + '/' + this.contact.Id);\n        }, 1000);\n      });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UpdateProfilePageRoutingModule } from './update-profile-routing.module';\n\nimport { UpdateProfilePage } from './update-profile.page';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ItemErrComponentModule } from 'src/app/components/common/item-err/item-err.module';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, ReactiveFormsModule, TranslateModule, ItemErrComponentModule, UpdateProfilePageRoutingModule],\n  declarations: [UpdateProfilePage],\n})\nexport class UpdateProfilePageModule {}\n"],"sourceRoot":"webpack:///"}