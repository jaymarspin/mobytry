{"version":3,"sources":["./src/app/pages/profile/profile-routing.module.ts","./src/app/pages/profile/profile.page.ts","./src/app/pages/profile/profile.page.html","./src/app/pages/profile/profile.module.ts"],"names":["routes","path","component","ProfilePage","authService","errService","authState$","this","subAuthState","subs","Subscription","subUser","subscribe","user","err","handleError","add","logError","subShowAuth","combineLatest","pipe","first","usr","isLoggedIn","ProfilePageRoutingModule","forChild","ProfilePageModule"],"mappings":"ySAKA,MAAMA,EAAiB,CACrB,CACEC,KAAM,GACNC,UCGG,M,MAAMC,EAKX,YAAoBC,EAA4CC,GAA5C,KAAAD,cAA4C,KAAAC,aAHhE,KAAAC,WAAaC,KAAKH,YAAYI,eACtB,KAAAC,KAAqB,IAAIC,EAAA,EAIjC,WACE,IACE,MAAMC,EAAUJ,KAAKH,YAAYO,UAAUC,UAClCC,GAAS,YAAD,+BACbN,KAAKM,KAAOA,IAEbC,GAAQP,KAAKF,WAAWU,YAAYD,IAEvCP,KAAKE,KAAKO,IAAIL,GACd,MAAOG,GACPP,KAAKF,WAAWY,SAASH,IAG7B,qBACE,MAAMI,EAAc,OAAAC,EAAA,GAAc,CAACZ,KAAKH,YAAYO,YACjDS,KACC,OAAAC,EAAA,GAAM,EAAEC,KACQ,MAAPA,IAAgBA,EAAIC,aAG9BX,UACC,OACCE,GAAQP,KAAKF,WAAWY,SAASH,IAEtCP,KAAKE,KAAKO,IAAIE,I,6CA/BLf,GAAW,sB,uBAAXA,EAAW,kcCXxB,qBACE,wBACE,wBACE,4B,oBACF,OACA,oBAAW,Q,oBAAmC,OAChD,OACF,OACA,sBACE,qBACE,mBACE,mBACE,wBACE,iBACF,OACA,oBACE,sBACF,OACF,OACF,OAEA,mBACE,mBACE,wBACE,iBACF,OACA,oBACE,sBACF,OACF,OACF,OAEA,qBACE,mBACE,sBACE,cAAI,SAAc,OACpB,OAEA,wBAA8B,SAAsB,OAEpD,wBAA8B,SAAmB,OACnD,OACF,OACF,OACF,OACA,yBACE,uBACE,oBACE,mBACE,sBACE,oBACE,iBAA4B,S,qBAAkC,OAChE,OACF,OACF,OACA,sBACE,sBACE,oBAAU,wBAAY,OACxB,OACF,OACF,OACF,OACF,Q,MA3DsC,6CAEvB,+CAQA,qHAWA,4DAWD,4CAGwB,2DAEA,wDAWE,iD,+xBDxCjC,KDKA,Y,MAAMqB,G,8BAAAA,I,oDAAAA,IAAwB,SAH1B,CAAC,IAAaC,SAASzB,IACtB,O,GAEL,GGDA,Q,MAAM0B,G,8BAAAA,I,oDAAAA,IAAiB,SAHnB,CAAC,IAAc,IAAa,KAAa,IAAiB,M,GAG9D","file":"30.fae26332c055d8f7d53c.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProfilePage } from './profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfilePage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProfilePageRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { combineLatest, Subscription } from 'rxjs';\nimport { first } from 'rxjs/operators';\nimport { UserInfo } from 'src/app/models/common/user.model';\nimport { AuthenticationService } from 'src/app/services/common/auth/auth.service';\nimport { ErrorService } from 'src/app/services/common/error/error.service';\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.page.html',\n  styleUrls: ['./profile.page.scss'],\n})\nexport class ProfilePage implements OnInit {\n  user: UserInfo;\n  authState$ = this.authService.subAuthState();\n  private subs: Subscription = new Subscription();\n\n  constructor(private authService: AuthenticationService, private errService: ErrorService) {}\n\n  ngOnInit() {\n    try {\n      const subUser = this.authService.subUser().subscribe(\n        async (user) => {\n          this.user = user;\n        },\n        (err) => this.errService.handleError(err)\n      );\n      this.subs.add(subUser);\n    } catch (err) {\n      this.errService.logError(err);\n    }\n  }\n  ngAfterContentInit() {\n    const subShowAuth = combineLatest([this.authService.subUser()])\n      .pipe(\n        first(([usr]) => {\n          return usr != null && !usr.isLoggedIn;\n        })\n      )\n      .subscribe(\n        () => {},\n        (err) => this.errService.logError(err)\n      );\n    this.subs.add(subShowAuth);\n  }\n}\n","<ion-header>\n  <ion-toolbar color=\"primary\" mode=\"ios\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"\" text=\"{{'Common_Back'|translate}}\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>{{\"ProfilePage_Profile\"|translate}}</ion-title>\n  </ion-toolbar>\n</ion-header>\n<ion-content>\n  <ion-grid class=\"ion-no-margin ion-no-padding ion-padding-bottom ion-text-center white\">\n    <ion-row>\n      <ion-col>\n        <ion-avatar class=\"profile\">\n          <img src=\"{{user?.userPhoto + '?oauth_token=' + user?.accessToken}}\" />\n        </ion-avatar>\n        <button class=\"badge\">\n          <ion-icon name=\"camera\" color=\"light\"></ion-icon>\n        </button>\n      </ion-col>\n    </ion-row>\n\n    <ion-row>\n      <ion-col>\n        <ion-avatar class=\"profile\">\n          <img src=\"{{user?.userPhoto}}\" />\n        </ion-avatar>\n        <button class=\"badge\">\n          <ion-icon name=\"camera\" color=\"light\"></ion-icon>\n        </button>\n      </ion-col>\n    </ion-row>\n\n    <ion-row class=\"ion-margin-top\">\n      <ion-col>\n        <ion-text color=\"primary\">\n          <h4>{{user?.name}}</h4>\n        </ion-text>\n\n        <ion-label class=\"mat-small\"> {{user?.companyName}} </ion-label>\n\n        <ion-label class=\"mat-small\"> {{user?.teamName}} </ion-label>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-content>\n<ion-footer class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-grid>\n      <ion-row>\n        <ion-col size=\"12\">\n          <ion-text>\n            <h3 class=\"ion-text-center\">{{\"ProfilePage_LogOut\"|translate}}</h3>\n          </ion-text>\n        </ion-col>\n      </ion-row>\n      <ion-row class=\"version-wrapper\">\n        <ion-col size=\"12\">\n          <ion-text>v1.0.0 Build</ion-text>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </ion-toolbar>\n</ion-footer>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfilePageRoutingModule } from './profile-routing.module';\n\nimport { ProfilePage } from './profile.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, TranslateModule, ProfilePageRoutingModule],\n  declarations: [ProfilePage],\n})\nexport class ProfilePageModule {}\n"],"sourceRoot":"webpack:///"}