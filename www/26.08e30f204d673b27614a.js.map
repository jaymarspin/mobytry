{"version":3,"sources":["./src/app/pipes/custom-currency.pipe.ts","./src/app/pages/offer/view-offer/view-offer.page.html","./src/app/pages/offer/view-offer/view-offer-routing.module.ts","./src/app/pages/offer/view-offer/view-offer.page.ts","./src/app/pages/offer/view-offer/view-offer.module.ts"],"names":["CustomCurrencyPipe","value","currencyCode","display","digitsInfo","locale","super","transform","this","getCurrency","getLocale","environment","countryCode","routes","path","PARAM_ID","children","component","ViewOfferPage","route","navCtrl","offerSrvc","translate","loadingCtrl","subs","Subscription","add","parseURL","offer","paramMap","subscribe","params","Id","get","getData","back","offerId","pipe","mergeMap","lang","from","create","message","loading","present","forkJoin","getOfferById","tap","e","console","log","dismiss","err","item","Status","toLocaleLowerCase","print","pathMatch","ViewOfferPageRoutingModule","forChild","ViewOfferPageModule"],"mappings":"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","file":"26.08e30f204d673b27614a.js","sourcesContent":["import { Pipe, PipeTransform } from '@angular/core';\nimport { CurrencyPipe } from '@angular/common';\nimport { environment } from 'src/environments/environment';\n\n@Pipe({\n  name: 'CustomCurrency',\n})\nexport class CustomCurrencyPipe extends CurrencyPipe implements PipeTransform {\n  transform(\n    value: number | string,\n    currencyCode?: string,\n    display?: 'code' | 'symbol' | 'symbol-narrow' | string | boolean,\n    digitsInfo?: string,\n    locale?: string\n  ): string | null;\n  transform(\n    value: null | undefined,\n    currencyCode?: string,\n    display?: 'code' | 'symbol' | 'symbol-narrow' | string | boolean,\n    digitsInfo?: string,\n    locale?: string\n  ): null;\n  transform(\n    value: number | string | null | undefined,\n    currencyCode?: string,\n    display?: 'code' | 'symbol' | 'symbol-narrow' | string | boolean,\n    digitsInfo?: string,\n    locale?: string\n  ): string | null {\n    return super.transform(value, currencyCode || this.getCurrency(), display || 'symbol', digitsInfo, locale || this.getLocale());\n  }\n\n  getCurrency() {\n    if (environment.countryCode === 'my') {\n      return 'MYR ';\n    } else if (environment.countryCode === 'sg') {\n      return 'SGD ';\n    } else {\n      return 'THB ';\n    }\n  }\n\n  getLocale() {\n    if (environment.countryCode === 'my') {\n      return 'en_MY';\n    } else if (environment.countryCode === 'sg') {\n      return 'en_SG';\n    } else {\n      return 'th_TH';\n    }\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar color=\"primary\" mode=\"ios\">\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"dismiss()\">\n        <ion-icon slot=\"icon-only\" name=\"arrow-back\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"print()\">\n        <ion-icon slot=\"icon-only\" name=\"print\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>\n      {{\"ViewOfferPage_OfferDetails\"|translate}}<br />\n      <ion-text class=\"sub-header\"> {{\"ViewOfferPage_OpportunityID\"|translate}}: {{offer?.OpportunityId}} </ion-text>\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n<ion-content class=\"ion-padding\">\n  <section class=\"ion-text-center\">\n    <h2>{{offer?.ContactName}}</h2>\n    <ion-text class=\"sub-title\">{{offer?.SourceName}}</ion-text>\n  </section>\n  <!-- General Details -->\n  <section class=\"ion-margin-top\">\n    <ion-text>\n      <b>{{\"ViewOfferPage_GeneralDetails\"|translate}}</b>\n    </ion-text>\n    <div class=\"ion-margin-top\">\n      <ion-grid class=\"ion-no-margin\">\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{\"ViewOfferPage_Status\"|translate}}: </ion-col>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{offer?.Status}} </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{\"ViewOfferPage_VariantName\"|translate}}: </ion-col>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{offer?.VariantName}} </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{\"ViewOfferPage_YearMake\"|translate}}: </ion-col>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{offer?.YearMake}} </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{\"ViewOfferPage_SellingPrice\"|translate}}: </ion-col>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{offer?.SellingPrice | CustomCurrency}} </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{\"ViewOfferPage_ExciseDuty\"|translate}}: </ion-col>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{offer?.ExciseDuty | CustomCurrency}} </ion-col>\n        </ion-row>\n      </ion-grid>\n    </div>\n  </section>\n  <!-- Discount Details -->\n  <section class=\"ion-margin-top\">\n    <ion-text>\n      <b>{{\"ViewOfferPage_DiscountDetails\"|translate}}</b>\n    </ion-text>\n    <div class=\"ion-margin-top\">\n      <ion-grid class=\"ion-no-margin\">\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{\"ViewOfferPage_FleetDiscountPctg\"|translate}}: </ion-col>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{offer?.FleetDiscountPctg}} </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{\"ViewOfferPage_FleetDiscount\"|translate}}: </ion-col>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{offer?.FleetDiscount | CustomCurrency}} </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{\"ViewOfferPage_Discount\"|translate}}: </ion-col>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{offer?.Discount | CustomCurrency}} </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{\"ViewOfferPage_SalesCampaign\"|translate}}: </ion-col>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{offer?.SalesCampaign | CustomCurrency}} </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{\"ViewOfferPage_Lifestyle\"|translate}}: </ion-col>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{offer?.Merchandise | CustomCurrency}} </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-text-start\">\n            <b>{{\"ViewOfferPage_Subtotal\"|translate}}:</b>\n          </ion-col>\n          <ion-col size=\"6\" class=\"ion-text-start\">\n            <ion-text color=\"primary\"> {{offer?.Subtotal | CustomCurrency}} </ion-text>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </div>\n  </section>\n  <!-- Other Details -->\n  <section class=\"ion-margin-top\">\n    <ion-text>\n      <b>{{\"ViewOfferPage_OtherDetails\"|translate}}</b>\n    </ion-text>\n    <div class=\"ion-margin-top\">\n      <ion-grid class=\"ion-no-margin\">\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{\"ViewOfferPage_RegistrationType\"|translate}}: </ion-col>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{offer?.RegType}} </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{\"ViewOfferPage_RegistrationFee\"|translate}}: </ion-col>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{offer?.RegFee | CustomCurrency}} </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{\"ViewOfferPage_HPOwnership\"|translate}}: </ion-col>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{offer?.HPOwnership}} </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{\"ViewOfferPage_HPOwnershipFee\"|translate}}: </ion-col>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{offer?.HPOwnershipPrice | CustomCurrency}} </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{\"ViewOfferPage_RoadTax\"|translate}}: </ion-col>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{offer?.RoadTax | CustomCurrency}} </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{\"ViewOfferPage_Insurance\"|translate}}: </ion-col>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{offer?.Insurance | CustomCurrency}} </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-text-start\">\n            <b>{{\"ViewOfferPage_TotalPrice\"|translate}}:</b>\n          </ion-col>\n          <ion-col size=\"6\" class=\"ion-text-start\">\n            <ion-text color=\"primary\"> {{offer?.Total | CustomCurrency}} </ion-text>\n          </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{\"ViewOfferPage_BookingFee\"|translate}}: </ion-col>\n          <ion-col size=\"6\" class=\"ion-text-start\"> {{offer?.BookingFee | CustomCurrency}} </ion-col>\n        </ion-row>\n      </ion-grid>\n    </div>\n  </section>\n</ion-content>\n<ion-footer class=\"ion-padding\" *ngIf=\"isShowFooter(offer)\">\n  <ion-grid class=\"ion-no-margin ion-no-padding\">\n    <ion-row>\n      <ion-col>\n        <ion-button fill=\"solid\" expand=\"block\" color=\"primary\" (click)=\"accept()\"> {{ \"ViewOfferPage_Accept\" | translate | uppercase }} </ion-button>\n      </ion-col>\n      <ion-col>\n        <ion-button fill=\"outline\" expand=\"block\" color=\"primary\" (click)=\"decline()\"> {{ \"ViewOfferPage_Decline\" | translate | uppercase }} </ion-button>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-footer>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ViewOfferPage } from './view-offer.page';\nimport { ViewOfferPageRoutingKeys } from './view-offer-routing.keys';\n\nconst routes: Routes = [\n  {\n    path: `:${ViewOfferPageRoutingKeys.PARAM_ID}`,\n    children: [\n      {\n        path: '',\n        component: ViewOfferPage,\n        pathMatch: 'full',\n      },\n    ],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ViewOfferPageRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Subscription, from, forkJoin } from 'rxjs';\nimport { Offer } from 'src/app/models/common/offer.model';\nimport { ViewOfferPageRoutingKeys } from './view-offer-routing.keys';\nimport { CommonOfferService } from 'src/app/services/common/offer/offer.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { NavController, LoadingController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { mergeMap, tap } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-view-offer',\n  templateUrl: './view-offer.page.html',\n  styleUrls: ['./view-offer.page.scss'],\n})\nexport class ViewOfferPage implements OnInit {\n  private subs = new Subscription();\n  offer: Offer;\n\n  constructor(\n    private route: ActivatedRoute,\n    private navCtrl: NavController,\n    private offerSrvc: CommonOfferService,\n    private translate: TranslateService,\n    private loadingCtrl: LoadingController\n  ) {}\n\n  ngOnInit() {\n    this.subs.add(this.parseURL());\n  }\n\n  parseURL() {\n    this.offer = new Offer();\n    return this.route.paramMap.subscribe((params) => {\n      this.offer.Id = params.get(ViewOfferPageRoutingKeys.PARAM_ID);\n      this.getData(this.offer.Id);\n    });\n  }\n\n  dismiss() {\n    this.navCtrl.back();\n  }\n\n  getData(offerId: string) {\n    this.translate\n      .get('Common_Loading')\n      .pipe(\n        mergeMap((lang) => {\n          return from(\n            this.loadingCtrl.create({\n              message: lang,\n            })\n          );\n        }),\n        mergeMap((loading) => {\n          loading.present();\n          return forkJoin([\n            this.offerSrvc.getOfferById(offerId).pipe(\n              tap((e) => {\n                this.offer = e;\n                console.log(this.offer);\n              })\n            ),\n          ]).pipe(\n            tap(\n              (e) => {\n                loading.dismiss();\n              },\n              (err) => {\n                loading.dismiss();\n              }\n            )\n          );\n        })\n      )\n      .subscribe();\n  }\n\n  isShowFooter(item: Offer) {\n    return item?.Status?.toLocaleLowerCase() === 'accepted' || item?.Status?.toLocaleLowerCase() === 'declined' ? false : true;\n  }\n\n  accept() {\n    this.offer.Status = 'ACCEPTED';\n  }\n\n  decline() {\n    this.offer.Status = 'DECLINED';\n  }\n\n  print() {}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ViewOfferPageRoutingModule } from './view-offer-routing.module';\n\nimport { ViewOfferPage } from './view-offer.page';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CustomCurrencyPipe } from 'src/app/pipes/custom-currency.pipe';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, TranslateModule, ViewOfferPageRoutingModule],\n  declarations: [ViewOfferPage, CustomCurrencyPipe],\n})\nexport class ViewOfferPageModule {}\n"],"sourceRoot":"webpack:///"}